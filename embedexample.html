<!DOCTYPE html>

<html>
  <head>
    <style>
      /* How to apply styles to the forkphorus embed <iframe> */
      .forkphorus-embed {
        margin: 10px;
      }
    </style>
  </head>

  <body>
    <!-- Example of using the embed API -->
    <script>

      // Forkphorus uses the messaging API to send messages to and from the parent window.
      window.addEventListener('message', function(e) {
        // Make sure to check the origin to make sure it's coming from forkphorus.
        if (e.origin !== 'https://forkphorus.github.io') {
          return;
        }

        // data will be sent from forkphorus to the parent website.
        var data = e.data;

        // `id` (string) - The unique (random) ID of the forkphorus embed that sent this message.
        var id = data.id;
        // `type` (string) - The type of message that this is. (we'll see what this means later)
        var type = data.type;
        // `payload` (varies) - The payload part of the message. (varies by type)
        var payload = data.payload;

        if (type === 'hello') {
          // This is fired once before embed starts loading, and never again.
          // The stage has not begun to load when this is fired.
          // payload is a number, indicating API version, currently `1`
          // The API version will probably never change.
          console.log(id, 'says hello with API version', payload);
        }

        if (type === 'startload') {
          // This is fired once when the embed starts loading, and never again.
          // payload is null
          console.log(id, 'is starting to load', payload);
        }

        if (type === 'progress') {
          // This is fired when progress has been made in the loading process.
          // payload is a number between 0 and 1 indicating progress, where 1 is 100% done
          // This should only be used for progress bars.
          console.log(id, 'has progressed to ' + payload * 100 + '% complete')
        }

        if (type === 'load') {
          // This is fired when the stage has finished loading and is ready to start.
          // payload is null
          console.log(id, 'is ready to start');
        }

        if (type === 'error') {
          // This is fired when an error occurred.
          // payload is the error.
          console.log(id, 'has encountered an error', payload);
        }
      });
    </script>

    <p>Examples of all the embeds.</p>

    <table>
      <tr>
        <td>no autostart</td>
        <td><script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=false&light-content=false"></script></td>
        <td><input value='&lt;script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=false&light-content=false">&lt;/script>' readonly onclick="this.focus();this.select();"></td>
      </tr>
      <tr>
        <td>autostart</td>
        <td><script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=true&light-content=false"></script></td>
        <td><input value='&lt;script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=true&light-content=false">&lt;/script>' readonly onclick="this.focus();this.select();"></td>
      </tr>
      <tr>
        <td>dark</td>
        <td style="background:black;"><script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=false&light-content=true"></script></td>
        <td><input value='&lt;script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=false&light-content=true">&lt;/script>' readonly onclick="this.focus();this.select();"></td>
      </tr>
      <tr>
        <td>no UI + autostart</td>
        <td><script src="https://forkphorus.github.io/embed.js?id=280227362&ui=false"></script></td>
        <td><input value='&lt;script src="https://forkphorus.github.io/embed.js?id=280227362&ui=false">&lt;/script>' readonly onclick="this.focus();this.select();"></td>
      </tr>
    </table>

  </body>
</html>
