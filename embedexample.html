<!DOCTYPE html>

<html>
  <head>
    <style>
      /* How to apply styles to the forkphorus embed <iframe> */
      .forkphorus-embed {
        margin: 10px;
      }
    </style>
  </head>

  <body>
    <!-- Example of using the embed API -->
    <script>

      // Forkphorus uses the messaging API to send messages to and from the parent window.
      window.addEventListener('message', function(e) {
        // Make sure to check the origin to make sure it's coming from forkphorus.
        if (e.origin !== 'https://forkphorus.github.io') {
          return;
        }

        var data = e.data;

        // `id` (string) - The unique (random) ID of the forkphorus embed that sent this message.
        var id = data.id;
        // `type` (string) - The type of message that this is. (we'll see what this means later)
        var type = data.type;

        if (type === 'hello') {
          if (data.version !== 1) {
            // That's not supposed to happen.
            // You should probably log a warning somewhere, but not more than that.
            console.warn('unexpected api version', data.version);
          }
          console.log(id, 'says hello with API version', data.version);
        }

        if (type === 'startload') {
          console.log(id, 'is starting to load');
        }

        if (type === 'progress') {
          console.log(id, 'has progressed to ' + data.progress * 100 + '% complete')
        }

        if (type === 'load') {
          console.log(id, 'is ready to start');
        }

        if (type === 'start') {
          console.log(id, 'has started');
        }

        if (type === 'pause') {
          console.log(id, 'has paused');
        }

        if (type === 'error') {
          console.log(id, 'has encountered an error', data.error);
        }
      });
    </script>

    <p>Examples of all the embeds.</p>

    <table>
      <tr>
        <td>no autostart</td>
        <td><script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=false&light-content=false"></script></td>
        <td><input value='&lt;script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=false&light-content=false">&lt;/script>' readonly onclick="this.focus();this.select();"></td>
      </tr>
      <tr>
        <td>autostart</td>
        <td><script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=true&light-content=false"></script></td>
        <td><input value='&lt;script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=true&light-content=false">&lt;/script>' readonly onclick="this.focus();this.select();"></td>
      </tr>
      <tr>
        <td>dark</td>
        <td style="background:black;"><script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=false&light-content=true"></script></td>
        <td><input value='&lt;script src="https://forkphorus.github.io/embed.js?id=280227362&auto-start=false&light-content=true">&lt;/script>' readonly onclick="this.focus();this.select();"></td>
      </tr>
      <tr>
        <td>no UI + autostart</td>
        <td><script src="https://forkphorus.github.io/embed.js?id=280227362&ui=false"></script></td>
        <td><input value='&lt;script src="https://forkphorus.github.io/embed.js?id=280227362&ui=false">&lt;/script>' readonly onclick="this.focus();this.select();"></td>
      </tr>
    </table>

  </body>
</html>
